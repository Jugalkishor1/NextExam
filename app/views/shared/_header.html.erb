<!-- Header -->
<header data-controller="toggle"
        class="border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 sticky top-0 z-50 backdrop-blur-lg bg-opacity-90 dark:bg-opacity-90">
  <nav class="max-w-7xl mx-auto flex items-center justify-between px-4 sm:px-6 lg:px-8 py-3">
    
    <div class="flex items-center space-x-2">
      <span class="text-2xl sm:text-3xl">ðŸŽ“</span>
      <span class="text-xl sm:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 dark:from-purple-400 dark:to-pink-400 bg-clip-text text-transparent">
        Next<span>Exam</span>
      </span>
    </div>

    <ul class="hidden lg:flex space-x-6 text-base font-semibold">
      <li><a href="/" class="text-gray-700 hover:text-purple-600 dark:text-gray-200 dark:hover:text-purple-400 transition-colors">Home</a></li>
      <li><a href="/exams" class="text-gray-700 hover:text-purple-600 dark:text-gray-200 dark:hover:text-purple-400 transition-colors">Exams</a></li>
      <li><a href="/mock_tests" class="text-gray-700 hover:text-purple-600 dark:text-gray-200 dark:hover:text-purple-400 transition-colors">Test Series</a></li>
      <li><a href="/quizzes" class="text-gray-700 hover:text-purple-600 dark:text-gray-200 dark:hover:text-purple-400 transition-colors">Quiz</a></li>
      <li><a href="#" class="text-gray-700 hover:text-purple-600 dark:text-gray-200 dark:hover:text-purple-400 transition-colors">PYQ</a></li>
      <li><a href="/topic_wise/subjects" class="text-gray-700 hover:text-purple-600 dark:text-gray-200 dark:hover:text-purple-400 transition-colors">Topic-wise Quizzes</a></li>
    </ul>

    <div class="hidden lg:flex items-center space-x-3">
      <div class="relative">
        <input type="text" placeholder="Search..." 
               class="rounded-full border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 py-2 px-4 pr-10 text-sm focus:outline-none focus:ring-2 focus:ring-purple-400 dark:text-gray-100 w-48 xl:w-64 transition-all">
        <button class="absolute right-3 top-2.5 text-purple-600 dark:text-purple-400">
          <i class="fas fa-search text-sm"></i>
        </button>
      </div>

      <button data-action="click->toggle#toggleTheme"
              id="theme-toggle"
              class="p-2 rounded-full bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors">
        <i class="fas fa-moon dark:hidden text-gray-700"></i>
        <i class="fas fa-sun hidden dark:inline text-yellow-400"></i>
      </button>

      <% if user_signed_in? %>
        <%= link_to 'Logout', destroy_user_session_path, class: 'bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold px-5 py-2 rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all transform hover:scale-105', data: { turbo_method: :delete } %>
      <% else %>
        <%= link_to 'Login', new_user_session_path, class: 'btn btn-outline' %>
        <%= link_to 'Register', new_user_registration_path, class: 'btn btn-primary' %>
      <% end %>
    </div>

    <button id="menu-btn"
            data-action="click->toggle#toggleMenu"
            class="lg:hidden text-2xl text-gray-700 dark:text-gray-200 focus:outline-none">
      <i class="fas fa-bars"></i>
    </button>
  </nav>

  <div data-toggle-target="menu"
       id="mobile-menu"
       class="hidden lg:hidden px-4 sm:px-6 pb-4 space-y-3 bg-white dark:bg-gray-900 transition-all duration-300">
    
    <a href="/" class="block py-2 text-gray-700 hover:text-purple-600 dark:text-gray-200 dark:hover:text-purple-400 font-medium transition-colors">Home</a>
    <a href="/exams" class="block py-2 text-gray-700 hover:text-purple-600 dark:text-gray-200 dark:hover:text-purple-400 font-medium transition-colors">Exams</a>
    <a href="/mock_tests" class="block py-2 text-gray-700 hover:text-purple-600 dark:text-gray-200 dark:hover:text-purple-400 font-medium transition-colors">Mock Test</a>
    <a href="/quizzes" class="block py-2 text-gray-700 hover:text-purple-600 dark:text-gray-200 dark:hover:text-purple-400 font-medium transition-colors">Quiz</a>
    <a href="#" class="block py-2 text-gray-700 hover:text-purple-600 dark:text-gray-200 dark:hover:text-purple-400 font-medium transition-colors">PYQ</a>

    <div class="flex items-center justify-between pt-3 border-t border-gray-200 dark:border-gray-700">
      <button data-action="click->toggle#toggleTheme"
              id="mobile-theme-toggle"
              class="p-2 rounded-full bg-gray-100 dark:bg-gray-800">
        <i class="fas fa-moon dark:hidden text-gray-700"></i>
        <i class="fas fa-sun hidden dark:inline text-yellow-400"></i>
      </button>

      <% if user_signed_in? %>
        <%= link_to 'Logout', destroy_user_session_path, class: 'bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold px-5 py-2 rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all transform hover:scale-105', data: { turbo_method: :delete } %>
      <% else %>
        <%= link_to 'Login', new_user_session_path, class: 'btn btn-outline' %>
        <%= link_to 'Register', new_user_registration_path, class: 'btn btn-primary' %>
      <% end %>
    </div>
  </div>
</header>
